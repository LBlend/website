@import "tailwindcss";

.toc-sidebar {
  @apply hidden;
}

@media (min-width: 1200px) {
  .blog-layout {
    @apply grid gap-8;
    grid-template-columns: 1fr min(60ch, 100%) 1fr;
  }

  .blog-layout > article {
    grid-column: 2;
    grid-row: 1;
  }

  .toc-sidebar {
    @apply block;
    grid-column: 1;
    grid-row: 1;
    @apply w-[250px];
    @apply justify-self-end;
  }
}

/* Table of Contents shared styles */
.toc-link {
  @apply block py-1.5 text-gray-500 transition-colors duration-200;
  @apply hover:text-gray-200; /* Link styling takes precedent but leaving it as backup */
}

.toc-link.active {
  @apply text-gray-200;
}

.toc-depth-3 {
  @apply pl-4;
  @apply text-sm; /* text-sm is default on desktop. So styling is only applied to mobile in practice */
}

/* Desktop TOC */
.toc {
  @apply sticky top-24 overflow-y-auto text-sm;
  max-height: calc(100vh - 8rem);
}

.toc .toc-link {
  @apply -ml-3 border-l-2 border-transparent pl-3;
}

.toc .toc-link.active {
  @apply border-l-gray-200;
}

/* Mobile TOC */
.toc-mobile {
  @apply mb-8 block rounded-lg border border-gray-700/30;
  @apply bg-[#151522]; /* var(--backgroundlight) */
}

@media (min-width: 1200px) {
  .toc-mobile {
    @apply hidden;
  }
}

.toc-mobile summary {
  @apply flex cursor-pointer items-center justify-between px-4 py-4 font-semibold select-none;
}

.toc-mobile summary::-webkit-details-marker {
  @apply hidden;
}

.toc-mobile summary::marker {
  @apply hidden;
  content: "";
}

.toc-mobile-icon {
  @apply transition-transform duration-200;
}

.toc-mobile[open] .toc-mobile-icon {
  @apply rotate-180;
}

.toc-mobile nav {
  display: grid;
  grid-template-rows: 0fr;
  opacity: 0;
  transition:
    grid-template-rows 200ms,
    opacity 200ms;
}

.toc-mobile nav > ul {
  overflow: hidden;
}

.toc-mobile[open] nav {
  grid-template-rows: 1fr;
  opacity: 1;
}

.toc-mobile nav.closing {
  grid-template-rows: 0fr;
  opacity: 0;
}

.toc-mobile.closing .toc-mobile-icon {
  @apply rotate-0;
}

.toc-mobile nav ul {
  @apply m-0 list-none px-4 pt-2 pb-4;
}

.prose {
  @apply max-w-[60ch];
  @apply m-auto;
  @apply p-2;
  word-break: break-word;
}

.title {
  @apply mb-1;
  @apply py-2;
  @apply text-center;
  @apply leading-none;
}

.title h1 {
  @apply m-0;
  @apply mb-2;
}

.date {
  @apply mb-2;
  @apply text-gray-400;
}

.last-updated-on {
  @apply italic;
}

h1 {
  @apply text-5xl;
  @apply font-bold;
  @apply mt-16;
  @apply mb-6;
}

h2 {
  @apply text-4xl;
  @apply font-bold;
  @apply mt-12;
  @apply mb-4;
  scroll-margin-top: 2rem;
}

h3 {
  @apply text-2xl;
  @apply font-bold;
  @apply mt-8;
  @apply mb-2;
  scroll-margin-top: 2rem;
}

h4 {
  @apply text-xl;
  @apply font-bold;
  @apply mt-4;
  @apply mb-2;
  scroll-margin-top: 2rem;
}

h5 {
  @apply text-lg;
  @apply font-bold;
  @apply mt-2;
  @apply mb-1;
  scroll-margin-top: 2rem;
}

h6 {
  @apply text-base;
  @apply font-bold;
  @apply mt-1;
  @apply mb-1;
  scroll-margin-top: 2rem;
}

p {
  @apply text-lg;
  @apply leading-relaxed;
  @apply mb-4;
  @apply leading-8;
}

ul {
  @apply list-disc;
  @apply pl-5;
  @apply mb-4;
}

ol {
  @apply list-decimal;
  @apply pl-5;
  @apply mb-4;
}

li {
  @apply mb-2;
}

.description {
  @apply opacity-80;
  @apply text-left;
  @apply mb-4;
  @apply mt-8;
}
